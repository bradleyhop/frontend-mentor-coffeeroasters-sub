import{u as ee,g as te,d as se,n as W,e as V,f as ne,w as L,h as ie,i as oe,s as le,j as ce,_ as $,o as p,c as h,b as k,t as u,a as i,A as J,k as P,l as G,m as ae,T as re,p as C,q as ue,v as de,x as pe,H as he,F as O,r as T,y as me,z as F}from"./index-93f36d13.js";const fe=[{id:0,selectionTitle:"How do you drink your coffee?",selectionType:"how",selections:[{id:0,isSelected:!1,selectionName:"Capsule",selectionDescription:"Compatible with Nespresso systems and similar brewers"},{id:1,isSelected:!1,selectionName:"Filter",selectionDescription:"For pour over or drip methods like Aeropress, Chemex, and V60"},{id:2,isSelected:!1,selectionName:"Espresso",selectionDescription:"Dense and finely ground beans for an intense, flavorful experience"}]},{id:1,selectionTitle:"What type of coffee?",selectionType:"type",selections:[{id:0,isSelected:!1,selectionName:"Single Origin",selectionDescription:"Distinct, high quality coffee from a specific family-owned farm"},{id:1,isSelected:!1,selectionName:"Decaf",selectionDescription:"Just like regular coffee, except the caffeine has been removed"},{id:2,isSelected:!1,selectionName:"Blended",selectionDescription:"Combination of two or three dark roasted beans of organic coffees"}]},{id:2,selectionTitle:"How much would you like?",selectionType:"size",selections:[{id:0,isSelected:!1,selectionName:"250g",selectionDescription:"Perfect for the solo drinker. Yields about 12 delicious cups."},{id:1,isSelected:!1,selectionName:"500g",selectionDescription:"Perfect option for a couple. Yields about 40 delectable cups."},{id:2,isSelected:!1,selectionName:"1000g",selectionDescription:"Perfect for offices and events. Yields about 90 delightful cups."}]},{id:3,selectionTitle:"Want us to grind them?",selectionType:"grind",selections:[{id:0,isSelected:!1,selectionName:"Wholebean",selectionDescription:"Best choice if you cherish the full sensory experience"},{id:1,isSelected:!1,selectionName:"Filter",selectionDescription:"For drip or pour-over coffee methods such as V60 or Aeropress"},{id:2,isSelected:!1,selectionName:"Cafetiére",selectionDescription:"Course ground beans specially suited for french press coffee"}]},{id:4,selectionTitle:"How often should we deliver?",selectionType:"frequency",selections:[{id:0,isSelected:!1,selectionName:"Every Week",selectionDescription:" per shipment. Includes free first-class shipping."},{id:1,isSelected:!1,selectionName:"Every 2 Weeks",selectionDescription:" per shipment. Includes free priority shipping."},{id:2,isSelected:!1,selectionName:"Every Month",selectionDescription:" per shipment. Includes free priority shipping."}]}];class _e{constructor(t){this.el=t,this.summary=t.querySelector("summary"),this.content=t.querySelector(".content-wrapper"),this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.summary.addEventListener("click",s=>this.onClick(s))}onClick(t){t.preventDefault(),this.el.style.overflow="hidden",this.isClosing||!this.el.open?this.open():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isClosing=!0;const t=`${this.el.offsetHeight}px`,s=`${this.summary.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,s]},{duration:300,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isClosing=!1}open(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame(()=>this.expand())}expand(){this.isExpanding=!0;const t=`${this.el.offsetHeight}px`,s=`${this.summary.offsetHeight+this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,s]},{duration:300,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(t){this.el.open=t,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}function ye(e){return ie()?(oe(e),!0):!1}function B(e){return typeof e=="function"?e():ee(e)}const ge=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const we=Object.prototype.toString,be=e=>we.call(e)==="[object Object]",ve=()=>{};function Se(e,t){function s(...c){return new Promise((n,r)=>{Promise.resolve(e(()=>t.apply(this,c),{fn:t,thisArg:this,args:c})).then(n).catch(r)})}return s}const R=e=>e();function ke(e=R){const t=V(!0);function s(){t.value=!1}function c(){t.value=!0}const n=(...r)=>{t.value&&e(...r)};return{isActive:ne(t),pause:s,resume:c,eventFilter:n}}function Ce(e,t,s={}){const{eventFilter:c=R,...n}=s;return L(e,Se(c,t),n)}function Pe(e,t,s={}){const{eventFilter:c,...n}=s,{eventFilter:r,pause:m,resume:f,isActive:_}=ke(c);return{stop:Ce(e,t,{...n,eventFilter:r}),pause:m,resume:f,isActive:_}}function De(e,t=!0){te()?se(e):t?e():W(e)}function xe(e){var t;const s=B(e);return(t=s==null?void 0:s.$el)!=null?t:s}const q=ge?window:void 0;function z(...e){let t,s,c,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,c,n]=e,t=q):[t,s,c,n]=e,!t)return ve;Array.isArray(s)||(s=[s]),Array.isArray(c)||(c=[c]);const r=[],m=()=>{r.forEach(o=>o()),r.length=0},f=(o,a,w,g)=>(o.addEventListener(a,w,g),()=>o.removeEventListener(a,w,g)),_=L(()=>[xe(t),B(n)],([o,a])=>{if(m(),!o)return;const w=be(a)?{...a}:a;r.push(...s.flatMap(g=>c.map(x=>f(o,g,x,w))))},{immediate:!0,flush:"post"}),y=()=>{_(),m()};return ye(y),y}const E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N="__vueuse_ssr_handlers__",Ae=Ee();function Ee(){return N in E||(E[N]=E[N]||{}),E[N]}function Ne(e,t){return Ae[e]||t}function qe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Oe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},H="vueuse-storage";function Te(e,t,s,c={}){var n;const{flush:r="pre",deep:m=!0,listenToStorageChanges:f=!0,writeDefaults:_=!0,mergeDefaults:y=!1,shallow:o,window:a=q,eventFilter:w,onError:g=l=>{console.error(l)},initOnMounted:x}=c,b=(o?le:V)(typeof t=="function"?t():t);if(!s)try{s=Ne("getDefaultStorage",()=>{var l;return(l=q)==null?void 0:l.localStorage})()}catch(l){g(l)}if(!s)return b;const v=B(t),I=qe(v),D=(n=c.serializer)!=null?n:Oe[I],{pause:K,resume:M}=Pe(b,()=>U(b.value),{flush:r,deep:m,eventFilter:w});return a&&f&&De(()=>{z(a,"storage",A),z(a,H,Z),x&&A()}),x||A(),b;function U(l){try{if(l==null)s.removeItem(e);else{const d=D.write(l),S=s.getItem(e);S!==d&&(s.setItem(e,d),a&&a.dispatchEvent(new CustomEvent(H,{detail:{key:e,oldValue:S,newValue:d,storageArea:s}})))}}catch(d){g(d)}}function X(l){const d=l?l.newValue:s.getItem(e);if(d==null)return _&&v!==null&&s.setItem(e,D.write(v)),v;if(!l&&y){const S=D.read(d);return typeof y=="function"?y(S,v):I==="object"&&!Array.isArray(S)?{...v,...S}:S}else return typeof d!="string"?d:D.read(d)}function Z(l){A(l.detail)}function A(l){if(!(l&&l.storageArea!==s)){if(l&&l.key==null){b.value=v;return}if(!(l&&l.key!==e)){K();try{(l==null?void 0:l.newValue)!==D.write(b.value)&&(b.value=X(l))}catch(d){g(d)}finally{l?W(M):M()}}}}}function Fe(e,t,s={}){const{window:c=q}=s;return Te(e,t,c==null?void 0:c.localStorage,s)}const j=ce("customerPlan",{state:()=>({plan:Fe("customerPlan",{how:"",type:"",size:"",grind:"",delivery:"",frequency:"",costs:[],totalCost:0})}),getters:{weeklyCost:e=>{e.plan.size==="250g"?(e.plan.costs[0]=7.2,e.plan.costs[1]=9.6,e.plan.costs[2]=12):e.plan.size==="500g"?(e.plan.costs[0]=13,e.plan.costs[1]=17.5,e.plan.costs[2]=22):e.plan.size==="1000g"?(e.plan.costs[0]=22,e.plan.costs[1]=32,e.plan.costs[2]=42):(e.plan.costs[0]=0,e.plan.costs[1]=0,e.plan.costs[2]=0)},totalCost:e=>{e.plan.frequency==="Every Week"?e.plan.totalCost=e.plan.costs[0]*4:e.plan.frequency==="Every 2 Weeks"?e.plan.totalCost=e.plan.costs[1]*2:e.plan.frequency==="Every Month"&&(e.plan.totalCost=e.plan.costs[2])}},actions:{setPlan(e,t){if(Object.hasOwn(this.plan,e))this.plan[e]=t;else throw new Error(`Invalid plan property: ${e}`)}}});const $e={name:"OrderSummary",data(){return{customerPlan:j()}}},Be={class:"summary-copy"},je={class:"summary-highlight"},Ie={class:"summary-highlight"},Me={class:"summary-highlight"},ze={class:"summary-highlight"},He={class:"summary-highlight"};function We(e,t,s,c,n,r){return p(),h("p",Be,[k(" “I drink my coffee "+u(n.customerPlan.plan.how==="Capsule"?"using":"as")+" ",1),i("span",je,u(n.customerPlan.plan.how?n.customerPlan.plan.how==="Capsule"?"Capsules":n.customerPlan.plan.how:"____"),1),k(", with a "),i("span",Ie,u(n.customerPlan.plan.type?n.customerPlan.plan.type:"____"),1),k(" type of bean. "),i("span",Me,u(n.customerPlan.plan.size?n.customerPlan.plan.size:"____"),1),k(u(n.customerPlan.plan.how==="Capsule"?"":" ground ala "),1),i("span",ze,u(n.customerPlan.plan.how==="Capsule"?"":n.customerPlan.plan.grind?n.customerPlan.plan.grind:"____"),1),k(", sent to me "),i("span",He,u(n.customerPlan.plan.frequency?n.customerPlan.plan.frequency:"____"),1),k(".” ")])}const Y=$($e,[["render",We],["__scopeId","data-v-84b80ffd"]]);const Ve={name:"CheckoutModal",components:{OrderSummary:Y,AppButton:J},data(){return{customerPlan:j()}},props:{show:Boolean}},Q=e=>(de("data-v-5bb93596"),e=e(),pe(),e),Le={key:0,class:"modal-mask"},Je={class:"modal-container"},Ge=Q(()=>i("h1",{class:"modal-header"},"Order Summary",-1)),Re=[Ge],Ye={class:"modal-body"},Qe=Q(()=>i("p",{class:"info-text-copy"}," Is this correct? You can proceed to checkout or go back to plan selection if something is off. Subscription discount codes can also be redeemed at the checkout. ",-1)),Ke={class:"modal-checkout-button-container"},Ue={class:"modal-checkout-container"},Xe={class:"total-cost"};function Ze(e,t,s,c,n,r){const m=P("OrderSummary"),f=P("AppButton");return p(),G(re,{name:"modal"},{default:ae(()=>[s.show?(p(),h("div",Le,[i("div",Je,[i("div",{class:"modal-header-container",onClick:t[0]||(t[0]=_=>e.$emit("close"))},Re),i("div",Ye,[C(m,{class:"modal-order-summary"}),Qe]),i("div",Ke,[C(f,{text:`Checkout - $${n.customerPlan.plan.totalCost.toFixed(2)} / mo`,onClick:t[1]||(t[1]=_=>e.$emit("close")),class:"modal-checkout-button"},null,8,["text"]),i("div",Ue,[i("p",Xe," $"+u(n.customerPlan.plan.totalCost.toFixed(2))+" / mo ",1),C(f,{text:"Checkout",onClick:t[2]||(t[2]=_=>e.$emit("close"))})])])])])):ue("",!0)]),_:1})}const et=$(Ve,[["render",Ze],["__scopeId","data-v-5bb93596"]]);const tt={name:"CreatePlan",components:{AppButton:J,HowItWorksCards:he,OrderSummary:Y,CheckoutModal:et},data(){return{planSelections:fe,customerPlan:j(),checkoutBtnDisabled:!0,showModal:!1,questionIndicator:Object.freeze([{id:"qiPref",link:"how",numb:"01",title:"Prefereneces"},{id:"qiType",link:"type",numb:"02",title:"Bean Type"},{id:"qiSize",link:"size",numb:"03",title:"Quantity"},{id:"qiGrind",link:"grind",numb:"04",title:"Grind Option"},{id:"qiFreq",link:"frequency",numb:"05",title:"Deliveries"}])}},methods:{toggleActiveSelect(e,t){this.planSelections[e].selections.map(s=>{s.isSelected=!1}),this.planSelections[e].selections[t].isSelected=!0},toggleDisabled(){this.customerPlan.plan.how==="Capsule"&&this.customerPlan.plan.type&&this.customerPlan.plan.size&&this.customerPlan.plan.frequency?this.checkoutBtnDisabled=!1:this.customerPlan.plan.how&&this.customerPlan.plan.type&&this.customerPlan.plan.size&&this.customerPlan.plan.grind&&this.customerPlan.plan.frequency?this.checkoutBtnDisabled=!1:this.checkoutBtnDisabled=!0},jumpToLink(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})}},watch:{"customerPlan.plan.how":{handler(){const e=document.getElementById("grind"),t=document.getElementById("qiGrind");this.customerPlan.plan.how==="Capsule"?(e.classList.add("disableSelection"),t.classList.add("qiDisabled"),e.hasAttribute("open")&&e.removeAttribute("open"),this.customerPlan.plan.grind&&(this.customerPlan.plan.grind="",this.planSelections[3].selections.map(s=>{s.isSelected=!1}))):(e.classList.remove("disableSelection"),t.classList.remove("qiDisabled"))}},customerPlan:{handler(){this.toggleDisabled()},deep:!0}},mounted(){document.querySelectorAll("details").forEach(e=>{new _e(e)}),this.toggleDisabled()}},st={class:"create-plan-container"},nt={class:"hero-container plan-hero-conatiner"},it=["srcset"],ot=["srcset"],lt=["srcset"],ct=["src"],at=i("div",{class:"hero-content-container"},[i("h1",{class:"main-plans-heading"},"Create a plan"),i("p",{class:"main-plans-copy"}," Build a subscription plan that best fits your needs. We offer an assortment of the best artisan coffees from around the globe delivered fresh to your door. ")],-1),rt={class:"steps-container"},ut={class:"select-plan-container"},dt={class:"question-container"},pt={class:"question-sticky-container"},ht=["id","onClick"],mt={class:"selection-accordian-container"},ft=["id"],_t={class:"select-plan-summary"},yt={class:"question-title"},gt={class:"arrow-container"},wt=["src"],bt=["id"],vt=["value","onClick"],St={class:"select-plan-title"},kt={key:0},Ct={key:1,class:"select-plan-copy"},Pt={class:"summary-container"},Dt=i("h2",{class:"summary-title"},"ORDER SUMMARY",-1),xt={class:"checkout-btn-container"};function At(e,t,s,c,n,r){const m=P("HowItWorksCards"),f=P("OrderSummary"),_=P("AppButton"),y=P("CheckoutModal");return p(),h("div",st,[i("section",nt,[i("picture",null,[i("source",{srcset:"./img/plan/mobile/image-hero-blackcup.jpg",media:"(max-width: 600px)",type:"image/jpg"},null,8,it),i("source",{srcset:"./img/plan/tablet/image-hero-blackcup.jpg",media:"(max-width: 1199px)",type:"image/jpg"},null,8,ot),i("source",{srcset:"./img/plan/desktop/image-hero-blackcup.jpg",media:"(min-width: 1200px)",type:"image/jpg"},null,8,lt),i("img",{src:"./img/plan/desktop/image-hero-blackcup.jpg",alt:"decorative image of coffee",class:"hero-img"},null,8,ct)]),at]),i("section",rt,[C(m)]),i("section",ut,[i("div",dt,[i("div",pt,[(p(!0),h(O,null,T(n.questionIndicator,o=>(p(),h("div",{key:o.id,class:"question-indicator-content",id:o.id,onClick:a=>r.jumpToLink(o.link),title:"jump to selection choice"},[i("span",{class:F(["question-numb-menu",{questionSelected:o.isSelected}])},u(o.numb),3),k("  "),i("span",{class:F(["question-title-menu",{questionSelected:o.isSelected}])},u(o.title),3)],8,ht))),128))])]),i("div",mt,[(p(!0),h(O,null,T(n.planSelections,o=>(p(),h("div",{key:o.id,class:"selection-container"},[i("details",{class:"select-plan-details",id:o.selectionType},[i("summary",_t,[i("h3",yt,u(o.selectionTitle),1),i("div",gt,[i("img",{class:"arrow-icon",src:"./img/plan/desktop/icon-arrow.svg",alt:"arrow icon indicating selection open or close"},null,8,wt)])]),i("div",{class:"content-wrapper",id:`planDetails${o.id}`},[(p(!0),h(O,null,T(o.selections,a=>(p(),h("div",{key:a.id,class:F(["select-plan-selection-container",{activeChoice:a.isSelected}]),value:a.cost,onClick:w=>(n.customerPlan.setPlan(o.selectionType,a.selectionName),r.toggleActiveSelect(o.id,a.id))},[i("h4",St,u(a.selectionName),1),o.selectionType==="frequency"?(p(),h("p",kt," $"+u(n.customerPlan.plan.costs[a.id].toFixed(2))+u(a.selectionDescription),1)):(p(),h("p",Ct,u(a.selectionDescription),1))],10,vt))),128))],8,bt)],8,ft)]))),128)),i("section",Pt,[Dt,C(f)]),i("p",xt,[C(_,{class:"checkout-btn",text:"Create My Plan!",id:"CheckoutBtn",disabled:n.checkoutBtnDisabled,onClick:t[0]||(t[0]=o=>n.showModal=!0)},null,8,["disabled"]),(p(),G(me,{to:"body"},[C(y,{show:n.showModal,onClose:t[1]||(t[1]=o=>n.showModal=!n.showModal)},null,8,["show"])]))])])])])}const Nt=$(tt,[["render",At]]);export{Nt as default};
