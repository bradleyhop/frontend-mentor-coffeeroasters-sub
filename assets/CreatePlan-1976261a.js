import{d as q,_ as v,o as c,c as a,b as d,t as n,a as s,A as w,e as h,f as S,w as $,T as B,g as p,h as T,p as E,i as I,H as N,F as g,r as y,j as A,n as k}from"./index-08230542.js";const H=[{id:0,selectionTitle:"How do you drink your coffee?",selectionType:"how",selections:[{id:0,isSelected:!1,selectionName:"Capsule",selectionDescription:"Compatible with Nespresso systems and similar brewers"},{id:1,isSelected:!1,selectionName:"Filter",selectionDescription:"For pour over or drip methods like Aeropress, Chemex, and V60"},{id:2,isSelected:!1,selectionName:"Espresso",selectionDescription:"Dense and finely ground beans for an intense, flavorful experience"}]},{id:1,selectionTitle:"What type of coffee?",selectionType:"type",selections:[{id:0,isSelected:!1,selectionName:"Single Origin",selectionDescription:"Distinct, high quality coffee from a specific family-owned farm"},{id:1,isSelected:!1,selectionName:"Decaf",selectionDescription:"Just like regular coffee, except the caffeine has been removed"},{id:2,isSelected:!1,selectionName:"Blended",selectionDescription:"Combination of two or three dark roasted beans of organic coffees"}]},{id:2,selectionTitle:"How much would you like?",selectionType:"size",selections:[{id:0,isSelected:!1,selectionName:"250g",selectionDescription:"Perfect for the solo drinker. Yields about 12 delicious cups."},{id:1,isSelected:!1,selectionName:"500g",selectionDescription:"Perfect option for a couple. Yields about 40 delectable cups."},{id:2,isSelected:!1,selectionName:"1000g",selectionDescription:"Perfect for offices and events. Yields about 90 delightful cups."}]},{id:3,selectionTitle:"Want us to grind them?",selectionType:"grind",selections:[{id:0,isSelected:!1,selectionName:"Wholebean",selectionDescription:"Best choice if you cherish the full sensory experience"},{id:1,isSelected:!1,selectionName:"Filter",selectionDescription:"For drip or pour-over coffee methods such as V60 or Aeropress"},{id:2,isSelected:!1,selectionName:"Cafetiére",selectionDescription:"Course ground beans specially suited for french press coffee"}]},{id:4,selectionTitle:"How often should we deliver?",selectionType:"frequency",selections:[{id:0,isSelected:!1,selectionName:"Every Week",selectionDescription:" per shipment. Includes free first-class shipping."},{id:1,isSelected:!1,selectionName:"Every 2 Weeks",selectionDescription:" per shipment. Includes free priority shipping."},{id:2,isSelected:!1,selectionName:"Every Month",selectionDescription:" per shipment. Includes free priority shipping."}]}];class M{constructor(t){this.el=t,this.summary=t.querySelector("summary"),this.content=t.querySelector(".content-wrapper"),this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.summary.addEventListener("click",l=>this.onClick(l))}onClick(t){t.preventDefault(),this.el.style.overflow="hidden",this.isClosing||!this.el.open?this.open():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isClosing=!0;const t=`${this.el.offsetHeight}px`,l=`${this.summary.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,l]},{duration:300,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isClosing=!1}open(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame(()=>this.expand())}expand(){this.isExpanding=!0;const t=`${this.el.offsetHeight}px`,l=`${this.summary.offsetHeight+this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,l]},{duration:300,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(t){this.el.open=t,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}const b=q("customerPlan",{state:()=>({plan:{how:"",type:"",size:"",grind:"",delivery:"",frequency:"",costs:[],totalCost:0}}),getters:{weeklyCost:e=>{e.plan.size==="250g"?(e.plan.costs[0]=7.2,e.plan.costs[1]=9.6,e.plan.costs[2]=12):e.plan.size==="500g"?(e.plan.costs[0]=13,e.plan.costs[1]=17.5,e.plan.costs[2]=22):e.plan.size==="1000g"?(e.plan.costs[0]=22,e.plan.costs[1]=32,e.plan.costs[2]=42):(e.plan.costs[0]=0,e.plan.costs[1]=0,e.plan.costs[2]=0)},totalCost:e=>{e.plan.frequency==="Every Week"?e.plan.totalCost=e.plan.costs[0]*4:e.plan.frequency==="Every 2 Weeks"?e.plan.totalCost=e.plan.costs[1]*2:e.plan.frequency==="Every Month"&&(e.plan.totalCost=e.plan.costs[2])}},actions:{setPlan(e,t){if(Object.hasOwn(this.plan,e))this.plan[e]=t;else throw new Error(`Invalid plan property: ${e}`)}}});const F={name:"OrderSummary",data(){return{customerPlan:b()}}},O={class:"summary-copy"},j={class:"summary-highlight"},z={class:"summary-highlight"},W={class:"summary-highlight"},L={class:"summary-highlight"},V={class:"summary-highlight"};function Y(e,t,l,C,i,u){return c(),a("p",O,[d(" “I drink my coffee "+n(i.customerPlan.plan.how==="Capsule"?"using":"as")+" ",1),s("span",j,n(i.customerPlan.plan.how?i.customerPlan.plan.how==="Capsule"?"Capsules":i.customerPlan.plan.how:"____"),1),d(", with a "),s("span",z,n(i.customerPlan.plan.type?i.customerPlan.plan.type:"____"),1),d(" type of bean. "),s("span",W,n(i.customerPlan.plan.size?i.customerPlan.plan.size:"____"),1),d(n(i.customerPlan.plan.how==="Capsule"?"":" ground ala "),1),s("span",L,n(i.customerPlan.plan.how==="Capsule"?"":i.customerPlan.plan.grind?i.customerPlan.plan.grind:"____"),1),d(", sent to me "),s("span",V,n(i.customerPlan.plan.frequency?i.customerPlan.plan.frequency:"____"),1),d(".” ")])}const P=v(F,[["render",Y],["__scopeId","data-v-73e697e5"]]);const G={name:"CheckoutModal",components:{OrderSummary:P,AppButton:w},data(){return{customerPlan:b()}},props:{show:Boolean}},x=e=>(E("data-v-7ecfc1bc"),e=e(),I(),e),R={key:0,class:"modal-mask"},Q={class:"modal-container"},J=x(()=>s("h1",{class:"modal-header"},"Order Summary",-1)),U=[J],K={class:"modal-body"},X=x(()=>s("p",{class:"info-text-copy"}," Is this correct? You can proceed to checkout or go back to plan selection if something is off. Subscription discount codes can also be redeemed at the checkout. ",-1)),Z={class:"modal-checkout-button-container"},ee={class:"modal-checkout-container"},se={class:"total-cost"};function te(e,t,l,C,i,u){const _=h("OrderSummary"),m=h("AppButton");return c(),S(B,{name:"modal"},{default:$(()=>[l.show?(c(),a("div",R,[s("div",Q,[s("div",{class:"modal-header-container",onClick:t[0]||(t[0]=f=>e.$emit("close"))},U),s("div",K,[p(_,{class:"modal-order-summary"}),X]),s("div",Z,[p(m,{text:`Checkout - $${i.customerPlan.plan.totalCost.toFixed(2)} / mo`,onClick:t[1]||(t[1]=f=>e.$emit("close")),class:"modal-checkout-button"},null,8,["text"]),s("div",ee,[s("p",se," $"+n(i.customerPlan.plan.totalCost.toFixed(2))+" / mo ",1),p(m,{text:"Checkout",onClick:t[2]||(t[2]=f=>e.$emit("close"))})])])])])):T("",!0)]),_:1})}const ie=v(G,[["render",te],["__scopeId","data-v-7ecfc1bc"]]);const oe={name:"CreatePlan",components:{AppButton:w,HowItWorksCards:N,OrderSummary:P,CheckoutModal:ie},data(){return{planSelections:H,customerPlan:b(),checkoutBtnDisabled:!0,showModal:!1,questionIndicator:Object.freeze([{id:"qiPref",link:"how",numb:"01",title:"Prefereneces"},{id:"qiType",link:"type",numb:"02",title:"Bean Type"},{id:"qiSize",link:"size",numb:"03",title:"Quantity"},{id:"qiGrind",link:"grind",numb:"04",title:"Grind Option"},{id:"qiFreq",link:"frequency",numb:"05",title:"Deliveries"}])}},methods:{toggleActiveSelect(e,t){this.planSelections[e].selections.map(l=>{l.isSelected=!1}),this.planSelections[e].selections[t].isSelected=!0},toggleDisabled(){this.customerPlan.plan.how==="Capsule"&&this.customerPlan.plan.type&&this.customerPlan.plan.size&&this.customerPlan.plan.frequency?this.checkoutBtnDisabled=!1:this.customerPlan.plan.how&&this.customerPlan.plan.type&&this.customerPlan.plan.size&&this.customerPlan.plan.grind&&this.customerPlan.plan.frequency?this.checkoutBtnDisabled=!1:this.checkoutBtnDisabled=!0},jumpToLink(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})}},watch:{"customerPlan.plan.how":{handler(){const e=document.getElementById("grind"),t=document.getElementById("qiGrind");this.customerPlan.plan.how==="Capsule"?(e.classList.add("disableSelection"),t.classList.add("qiDisabled"),e.hasAttribute("open")&&e.removeAttribute("open"),this.customerPlan.plan.grind&&(this.customerPlan.plan.grind="",this.planSelections[3].selections.map(l=>{l.isSelected=!1}))):(e.classList.remove("disableSelection"),t.classList.remove("qiDisabled"))}},customerPlan:{handler(){this.toggleDisabled()},deep:!0}},mounted(){document.querySelectorAll("details").forEach(e=>{new M(e)}),this.toggleDisabled()}},ne={class:"create-plan-container"},le={class:"hero-container plan-hero-conatiner"},ce=["srcset"],ae=["srcset"],re=["srcset"],de=["src"],pe=s("div",{class:"hero-content-container"},[s("h1",{class:"main-plans-heading"},"Create a plan"),s("p",{class:"main-plans-copy"}," Build a subscription plan that best fits your needs. We offer an assortment of the best artisan coffees from around the globe delivered fresh to your door. ")],-1),he={class:"steps-container"},ue={class:"select-plan-container"},me={class:"question-container"},fe={class:"question-sticky-container"},_e=["id","onClick"],ge={class:"selection-accordian-container"},ye=["id"],ke={class:"select-plan-summary"},ve={class:"question-title"},be={class:"arrow-container"},Ce=["src"],we=["id"],Se=["value","onClick"],Pe={class:"select-plan-title"},xe={key:0},De={key:1,class:"select-plan-copy"},qe={class:"summary-container"},$e=s("h2",{class:"summary-title"},"ORDER SUMMARY",-1),Be={class:"checkout-btn-container"};function Te(e,t,l,C,i,u){const _=h("HowItWorksCards"),m=h("OrderSummary"),f=h("AppButton"),D=h("CheckoutModal");return c(),a("div",ne,[s("section",le,[s("picture",null,[s("source",{srcset:"./img/plan/mobile/image-hero-blackcup.jpg",media:"(max-width: 600px)",type:"image/jpg",alt:"decorative image of coffee"},null,8,ce),s("source",{srcset:"./img/plan/tablet/image-hero-blackcup.jpg",media:"(max-width: 1199px)",type:"image/jpg",alt:"decorative image of coffee"},null,8,ae),s("source",{srcset:"./img/plan/desktop/image-hero-blackcup.jpg",media:"(min-width: 1200px)",type:"image/jpg",alt:"decorative image of coffee"},null,8,re),s("img",{src:"./img/plan/desktop/image-hero-blackcup.jpg",alt:"decorative image of coffee",class:"hero-img"},null,8,de)]),pe]),s("section",he,[p(_)]),s("section",ue,[s("div",me,[s("div",fe,[(c(!0),a(g,null,y(i.questionIndicator,o=>(c(),a("div",{key:o.id,class:"question-indicator-content",id:o.id,onClick:r=>u.jumpToLink(o.link),title:"jump to selection choice"},[s("span",{class:k(["question-numb-menu",{questionSelected:o.isSelected}])},n(o.numb),3),d("  "),s("span",{class:k(["question-title-menu",{questionSelected:o.isSelected}])},n(o.title),3)],8,_e))),128))])]),s("div",ge,[(c(!0),a(g,null,y(i.planSelections,o=>(c(),a("div",{key:o.id,class:"selection-container"},[s("details",{class:"select-plan-details",id:o.selectionType},[s("summary",ke,[s("h3",ve,n(o.selectionTitle),1),s("div",be,[s("img",{class:"arrow-icon",src:"./img/plan/desktop/icon-arrow.svg",alt:"arrow icon indicating selection open or close"},null,8,Ce)])]),s("div",{class:"content-wrapper",id:`planDetails${o.id}`},[(c(!0),a(g,null,y(o.selections,r=>(c(),a("div",{key:r.id,class:k(["select-plan-selection-container",{activeChoice:r.isSelected}]),value:r.cost,onClick:Ee=>(i.customerPlan.setPlan(o.selectionType,r.selectionName),u.toggleActiveSelect(o.id,r.id))},[s("h4",Pe,n(r.selectionName),1),o.selectionType==="frequency"?(c(),a("p",xe," $"+n(i.customerPlan.plan.costs[r.id].toFixed(2))+n(r.selectionDescription),1)):(c(),a("p",De,n(r.selectionDescription),1))],10,Se))),128))],8,we)],8,ye)]))),128)),s("section",qe,[$e,p(m)]),s("p",Be,[p(f,{class:"checkout-btn",text:"Create My Plan!",id:"CheckoutBtn",disabled:i.checkoutBtnDisabled,onClick:t[0]||(t[0]=o=>i.showModal=!0)},null,8,["disabled"]),(c(),S(A,{to:"body"},[p(D,{show:i.showModal,onClose:t[1]||(t[1]=o=>i.showModal=!i.showModal)},null,8,["show"])]))])])])])}const Ne=v(oe,[["render",Te]]);export{Ne as default};
