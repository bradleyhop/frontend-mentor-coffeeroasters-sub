import{d as P,_ as y,o as c,c as a,b as d,t as n,a as s,e as u,f as v,w as D,T as x,g as m,h as q,p as $,i as T,H as E,F as _,r as g,j as I,n as N}from"./index-40330bbd.js";const B=[{id:0,selectionTitle:"How do you drink your coffee?",selectionType:"how",selections:[{id:0,isSelected:!1,selectionName:"Capsule",selectionDescription:"Compatible with Nespresso systems and similar brewers"},{id:1,isSelected:!1,selectionName:"Filter",selectionDescription:"For pour over or drip methods like Aeropress, Chemex, and V60"},{id:2,isSelected:!1,selectionName:"Espresso",selectionDescription:"Dense and finely ground beans for an intense, flavorful experience"}]},{id:1,selectionTitle:"What type of coffee?",selectionType:"type",selections:[{id:0,isSelected:!1,selectionName:"Single Origin",selectionDescription:"Distinct, high quality coffee from a specific family-owned farm"},{id:1,isSelected:!1,selectionName:"Decaf",selectionDescription:"Just like regular coffee, except the caffeine has been removed"},{id:2,isSelected:!1,selectionName:"Blended",selectionDescription:"Combination of two or three dark roasted beans of organic coffees"}]},{id:2,selectionTitle:"How much would you like?",selectionType:"size",selections:[{id:0,isSelected:!1,selectionName:"250g",selectionDescription:"Perfect for the solo drinker. Yields about 12 delicious cups."},{id:1,isSelected:!1,selectionName:"500g",selectionDescription:"Perfect option for a couple. Yields about 40 delectable cups."},{id:2,isSelected:!1,selectionName:"1000g",selectionDescription:"Perfect for offices and events. Yields about 90 delightful cups."}]},{id:3,selectionTitle:"Want us to grind them?",selectionType:"grind",selections:[{id:0,isSelected:!1,selectionName:"Wholebean",selectionDescription:"Best choice if you cherish the full sensory experience"},{id:1,isSelected:!1,selectionName:"Filter",selectionDescription:"For drip or pour-over coffee methods such as V60 or Aeropress"},{id:2,isSelected:!1,selectionName:"Cafetiére",selectionDescription:"Course ground beans specially suited for french press coffee"}]},{id:4,selectionTitle:"How often should we deliver?",selectionType:"frequency",selections:[{id:0,isSelected:!1,selectionName:"Every Week",selectionDescription:" per shipment. Includes free first-class shipping."},{id:1,isSelected:!1,selectionName:"Every 2 Weeks",selectionDescription:" per shipment. Includes free priority shipping."},{id:2,isSelected:!1,selectionName:"Every Month",selectionDescription:" per shipment. Includes free priority shipping."}]}];class H{constructor(t){this.el=t,this.summary=t.querySelector("summary"),this.content=t.querySelector(".content-wrapper"),this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.summary.addEventListener("click",l=>this.onClick(l))}onClick(t){t.preventDefault(),this.el.style.overflow="hidden",this.isClosing||!this.el.open?this.open():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isClosing=!0;const t=`${this.el.offsetHeight}px`,l=`${this.summary.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,l]},{duration:300,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isClosing=!1}open(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame(()=>this.expand())}expand(){this.isExpanding=!0;const t=`${this.el.offsetHeight}px`,l=`${this.summary.offsetHeight+this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,l]},{duration:300,easing:"ease-in-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(t){this.el.open=t,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}const k=P("customerPlan",{state:()=>({plan:{how:"",type:"",size:"",grind:"",delivery:"",frequency:"",costs:[],totalCost:0}}),getters:{weeklyCost:e=>{e.plan.size==="250g"?(e.plan.costs[0]=7.2,e.plan.costs[1]=9.6,e.plan.costs[2]=12):e.plan.size==="500g"?(e.plan.costs[0]=13,e.plan.costs[1]=17.5,e.plan.costs[2]=22):e.plan.size==="1000g"?(e.plan.costs[0]=22,e.plan.costs[1]=32,e.plan.costs[2]=42):(e.plan.costs[0]=0,e.plan.costs[1]=0,e.plan.costs[2]=0)},totalCost:e=>{e.plan.frequency==="Every Week"?e.plan.totalCost=e.plan.costs[0]*4:e.plan.frequency==="Every 2 Weeks"?e.plan.totalCost=e.plan.costs[1]*2:e.plan.frequency==="Every Month"&&(e.plan.totalCost=e.plan.costs[2])}},actions:{setPlan(e,t){if(Object.hasOwn(this.plan,e))this.plan[e]=t;else throw new Error(`Invalid plan property: ${e}`)}}});const M={name:"OrderSummary",data(){return{customerPlan:k()}}},F={class:"summary-copy"},O={class:"summary-highlight"},j={class:"summary-highlight"},z={class:"summary-highlight"},A={class:"summary-highlight"},W={class:"summary-highlight"};function L(e,t,l,b,i,p){return c(),a("p",F,[d(" “I drink my coffee "+n(i.customerPlan.plan.how==="Capsule"?"using":"as")+" ",1),s("span",O,n(i.customerPlan.plan.how?i.customerPlan.plan.how==="Capsule"?"Capsules":i.customerPlan.plan.how:"____"),1),d(", with a "),s("span",j,n(i.customerPlan.plan.type?i.customerPlan.plan.type:"____"),1),d(" type of bean. "),s("span",z,n(i.customerPlan.plan.size?i.customerPlan.plan.size:"____"),1),d(n(i.customerPlan.plan.how==="Capsule"?"":" ground ala "),1),s("span",A,n(i.customerPlan.plan.how==="Capsule"?"":i.customerPlan.plan.grind?i.customerPlan.plan.grind:"____"),1),d(", sent to me "),s("span",W,n(i.customerPlan.plan.frequency?i.customerPlan.plan.frequency:"____"),1),d(".” ")])}const C=y(M,[["render",L],["__scopeId","data-v-84b80ffd"]]);const V={name:"CheckoutModal",components:{OrderSummary:C},data(){return{customerPlan:k()}},props:{show:Boolean}},w=e=>($("data-v-a682c5e3"),e=e(),T(),e),Y={key:0,class:"modal-mask"},G={class:"modal-container"},R=w(()=>s("h1",{class:"modal-header"},"Order Summary",-1)),Q=[R],J={class:"modal-body"},U=w(()=>s("p",{class:"info-text-copy"}," Is this correct? You can proceed to checkout or go back to plan selection if something is off. Subscription discount codes can also be redeemed at the checkout. ",-1)),K={class:"modal-checkout-button-container"},X={class:"modal-checkout-container"},Z={class:"total-cost"};function ee(e,t,l,b,i,p){const f=u("OrderSummary");return c(),v(x,{name:"modal"},{default:D(()=>[l.show?(c(),a("div",Y,[s("div",G,[s("div",{class:"modal-header-container",onClick:t[0]||(t[0]=h=>e.$emit("close"))},Q),s("div",J,[m(f,{class:"modal-order-summary"}),U]),s("div",K,[s("button",{onClick:t[1]||(t[1]=h=>e.$emit("close")),class:"app-button modal-checkout-button"},n(`Checkout - $${i.customerPlan.plan.totalCost.toFixed(2)} / mo`),1),s("div",X,[s("p",Z," $"+n(i.customerPlan.plan.totalCost.toFixed(2))+" / mo ",1),s("button",{class:"app-button",onClick:t[2]||(t[2]=h=>e.$emit("close"))},"Checkout")])])])])):q("",!0)]),_:1})}const se=y(V,[["render",ee],["__scopeId","data-v-a682c5e3"]]);const te={name:"CreatePlan",components:{HowItWorksCards:E,OrderSummary:C,CheckoutModal:se},data(){return{planSelections:B,customerPlan:k(),checkoutBtnDisabled:!0,showModal:!1,questionIndicator:Object.freeze([{id:"qiPref",link:"how",numb:"01",title:"Prefereneces"},{id:"qiType",link:"type",numb:"02",title:"Bean Type"},{id:"qiSize",link:"size",numb:"03",title:"Quantity"},{id:"qiGrind",link:"grind",numb:"04",title:"Grind Option"},{id:"qiFreq",link:"frequency",numb:"05",title:"Deliveries"}])}},methods:{toggleActiveSelect(e,t){this.planSelections[e].selections.map(l=>{l.isSelected=!1}),this.planSelections[e].selections[t].isSelected=!0},toggleDisabled(){const e=this.customerPlan.plan;e.how==="Capsule"&&e.type&&e.size&&e.frequency?this.checkoutBtnDisabled=!1:e.how&&e.type&&e.size&&e.grind&&e.frequency?this.checkoutBtnDisabled=!1:this.checkoutBtnDisabled=!0},jumpToLink(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})}},watch:{"customerPlan.plan.how":{handler(){const e=document.getElementById("grind"),t=document.getElementById("qiGrind");this.customerPlan.plan.how==="Capsule"?(e.classList.add("disableSelection"),t.classList.add("qiDisabled"),e.hasAttribute("open")&&e.removeAttribute("open"),this.customerPlan.plan.grind&&(this.customerPlan.plan.grind="",this.planSelections[3].selections.map(l=>{l.isSelected=!1}))):(e.classList.remove("disableSelection"),t.classList.remove("qiDisabled"))}},customerPlan:{handler(){this.toggleDisabled()},deep:!0}},mounted(){document.querySelectorAll("details").forEach(e=>{new H(e)}),this.toggleDisabled()}},ie={class:"create-plan-container"},oe={class:"hero-container plan-hero-conatiner"},ne=["srcset"],le=["srcset"],ce=["srcset"],ae=["src"],re=s("div",{class:"hero-content-container"},[s("h1",{class:"main-plans-heading"},"Create a plan"),s("p",{class:"main-plans-copy"}," Build a subscription plan that best fits your needs. We offer an assortment of the best artisan coffees from around the globe delivered fresh to your door. ")],-1),de={class:"steps-container"},pe={class:"select-plan-container"},he={class:"question-container"},ue={class:"question-sticky-container"},me=["id","onClick"],fe={class:"question-numb-menu"},_e={class:"question-title-menu"},ge={class:"selection-accordian-container"},ye=["id"],ke={class:"select-plan-summary"},be={class:"question-title"},ve={class:"arrow-container"},Ce=["src"],we=["id"],Se=["value","onClick"],Pe={class:"select-plan-title"},De={key:0},xe={key:1,class:"select-plan-copy"},qe={class:"summary-container"},$e=s("h2",{class:"summary-title"},"ORDER SUMMARY",-1),Te={class:"checkout-btn-container"},Ee=["disabled"];function Ie(e,t,l,b,i,p){const f=u("HowItWorksCards"),h=u("OrderSummary"),S=u("CheckoutModal");return c(),a("div",ie,[s("section",oe,[s("picture",null,[s("source",{srcset:"./img/plan/mobile/image-hero-blackcup.jpg",media:"(max-width: 600px)",type:"image/jpg"},null,8,ne),s("source",{srcset:"./img/plan/tablet/image-hero-blackcup.jpg",media:"(max-width: 1199px)",type:"image/jpg"},null,8,le),s("source",{srcset:"./img/plan/desktop/image-hero-blackcup.jpg",media:"(min-width: 1200px)",type:"image/jpg"},null,8,ce),s("img",{src:"./img/plan/desktop/image-hero-blackcup.jpg",alt:"decorative image of coffee",class:"hero-img"},null,8,ae)]),re]),s("section",de,[m(f)]),s("section",pe,[s("div",he,[s("div",ue,[(c(!0),a(_,null,g(i.questionIndicator,o=>(c(),a("div",{key:o.id,class:"question-indicator-content",id:o.id,onClick:r=>p.jumpToLink(o.link),title:"jump to selection choice"},[s("span",fe,n(o.numb),1),d("   "),s("span",_e,n(o.title),1)],8,me))),128))])]),s("div",ge,[(c(!0),a(_,null,g(i.planSelections,o=>(c(),a("div",{key:o.id,class:"selection-container"},[s("details",{class:"select-plan-details",id:o.selectionType},[s("summary",ke,[s("h3",be,n(o.selectionTitle),1),s("div",ve,[s("img",{class:"arrow-icon",src:"./img/plan/desktop/icon-arrow.svg",alt:"arrow icon indicating selection open or close"},null,8,Ce)])]),s("div",{class:"content-wrapper",id:`planDetails${o.id}`},[(c(!0),a(_,null,g(o.selections,r=>(c(),a("div",{key:r.id,class:N(["select-plan-option-card",{activeChoice:r.isSelected}]),value:r.cost,onClick:Ne=>(i.customerPlan.setPlan(o.selectionType,r.selectionName),p.toggleActiveSelect(o.id,r.id))},[s("h4",Pe,n(r.selectionName),1),o.selectionType==="frequency"?(c(),a("p",De," $"+n(i.customerPlan.plan.costs[r.id].toFixed(2))+n(r.selectionDescription),1)):(c(),a("p",xe,n(r.selectionDescription),1))],10,Se))),128))],8,we)],8,ye)]))),128)),s("section",qe,[$e,m(h)]),s("p",Te,[s("button",{class:"app-button checkout-btn",id:"CheckoutBtn",disabled:i.checkoutBtnDisabled,onClick:t[0]||(t[0]=o=>i.showModal=!0)}," Create My Plan! ",8,Ee),(c(),v(I,{to:"body"},[m(S,{show:i.showModal,onClose:t[1]||(t[1]=o=>i.showModal=!i.showModal)},null,8,["show"])]))])])])])}const He=y(te,[["render",Ie]]);export{He as default};
